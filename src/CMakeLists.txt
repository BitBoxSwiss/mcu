set(C-SOURCES
    aes.c
    base58.c
    base64.c
    bip32.c
    commander.c
    hmac.c
    led.c
    memory.c
    pbkdf2.c
    random.c
    ripemd160.c
    sha2.c
    sham.c
    uECC.c
    ecc.c
    secp256k1.c
    utils.c
    wallet.c
    flags.c
)

set(C-HW-SOURCES
    ataes132.c
    sd.c
    systick.c
    touch.c
)

set(YAJL-SOURCES
    yajl/src/yajl.c
    yajl/src/yajl_lex.c
    yajl/src/yajl_parser.c
    yajl/src/yajl_buf.c
    yajl/src/yajl_encode.c
    yajl/src/yajl_gen.c
    yajl/src/yajl_alloc.c
    yajl/src/yajl_tree.c
    yajl/src/yajl_version.c
)

if(WIN32)
  #Disable all the warnings generated by the YAJL library for Windows
  set_source_files_properties( ${YAJL-SOURCES} PROPERTIES
          COMPILE_FLAGS "-w")
endif()

include_directories(SYSTEM)
include_directories(secp256k1)
include_directories(secp256k1/src)

add_library(bitbox
  STATIC
  ${C-SOURCES}
  #${C-HW-SOURCES}
  ${YAJL-SOURCES}
)
